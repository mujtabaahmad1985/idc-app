var saveAs=saveAs||navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if(!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=e.URL||e.webkitURL||e,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i=!e.externalHost&&"download"in r,a=function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},c=e.webkitRequestFileSystem,u=e.requestFileSystem||c||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},d="application/octet-stream",l=0,f=[],v=function(){for(var e=f.length;e--;){var t=f[e];"string"==typeof t?o.revokeObjectURL(t):t.remove()}f.length=0},w=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){s(i)}}},p=function(o,a){var s=this,v=o.type,p=!1,E,h,y=function(){var e=n().createObjectURL(o);return f.push(e),e},m=function(){w(s,"writestart progress write writeend".split(" "))},R=function(){!p&&E||(E=y(o)),h?h.location.href=E:window.open(E,"_blank"),s.readyState=s.DONE,m()},S=function(e){return function(){return s.readyState!==s.DONE?e.apply(this,arguments):void 0}},g={create:!0,exclusive:!1},O;if(s.readyState=s.INIT,a||(a="download"),i){E=y(o),t=e.document,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r.href=E,r.download=a;var b=t.createEvent("MouseEvents");return b.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(b),s.readyState=s.DONE,void m()}return e.chrome&&v&&v!==d&&(O=o.slice||o.webkitSlice,o=O.call(o,0,o.size,d),p=!0),c&&"download"!==a&&(a+=".download"),(v===d||c)&&(h=e),u?(l+=o.size,void u(e.TEMPORARY,l,S(function(e){e.root.getDirectory("saved",g,S(function(e){var t=function(){e.getFile(a,g,S(function(e){e.createWriter(S(function(t){t.onwriteend=function(t){h.location.href=e.toURL(),f.push(e),s.readyState=s.DONE,w(s,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&R()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=s["on"+e]}),t.write(o),s.abort=function(){t.abort(),s.readyState=s.DONE},s.readyState=s.WRITING}),R)}),R)};e.getFile(a,{create:!1},S(function(e){e.remove(),t()}),S(function(e){e.code===e.NOT_FOUND_ERR?t():R()}))}),R)}),R)):void R()},E=p.prototype,h=function(e,t){return new p(e,t)};return E.abort=function(){var e=this;e.readyState=e.DONE,w(e,"abort")},E.readyState=E.INIT=0,E.WRITING=1,E.DONE=2,E.error=E.onwritestart=E.onprogress=E.onwrite=E.onabort=E.onerror=E.onwriteend=null,e.addEventListener("unload",v,!1),h}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);