!function($){$.extend($.fn,{swapClass:function(a,e){var l=this.filter("."+a);return this.filter("."+e).removeClass(e).addClass(a),l.removeClass(a).addClass(e),this},replaceClass:function(a,e){return this.filter("."+a).removeClass(a).addClass(e).end()},hoverClass:function(a){return a=a||"hover",this.hover(function(){$(this).addClass(a)},function(){$(this).removeClass(a)})},heightToggle:function(a,e){a?this.animate({height:"toggle"},a,e):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),e&&e.apply(this,arguments)})},heightHide:function(a,e){a?this.animate({height:"hide"},a,e):(this.hide(),e&&this.each(e))},prepareBranches:function(e){return e.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((e.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(e,l){if(this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(a){this==a.target&&l.apply($(this).next())}).add($("a",this)).hoverClass(),!e.prerendered){this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable),this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable);var s=this.find("div."+a.hitarea);s.length||(s=this.prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea)),s.removeClass().addClass(a.hitarea).each(function(){var a="";$.each($(this).parent().attr("class").split(" "),function(){a+=this+"-hitarea "}),$(this).addClass(a)})}this.find("div."+a.hitarea).click(l)},treeview:function(e){function l(e,l){function t(l){return function(){return s.apply($("div."+a.hitarea,e).filter(function(){return l?$(this).parent("."+l).length:!0})),!1}}$("a:eq(0)",l).click(t(a.collapsable)),$("a:eq(1)",l).click(t(a.expandable)),$("a:eq(2)",l).click(t())}function s(){$(this).parent().find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightToggle(e.animated,e.toggle),e.unique&&$(this).parent().siblings().find(">.hitarea").replaceClass(a.collapsableHitarea,a.expandableHitarea).replaceClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().replaceClass(a.collapsable,a.expandable).replaceClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightHide(e.animated,e.toggle)}function t(){function a(a){return a?1:0}var l=[];r.each(function(a,e){l[a]=$(e).is(":has(>ul:visible)")?1:0}),$.cookie(e.cookieId,l.join(""),e.cookieOptions)}function i(){var a=$.cookie(e.cookieId);if(a){var l=a.split("");r.each(function(a,e){$(e).find(">ul")[parseInt(l[a])?"show":"hide"]()})}}if(e=$.extend({cookieId:"treeview"},e),e.toggle){var n=e.toggle;e.toggle=function(){return n.apply($(this).parent()[0],arguments)}}this.data("toggler",s),this.addClass("treeview");var r=this.find("li").prepareBranches(e);switch(e.persist){case"cookie":var o=e.toggle;e.toggle=function(){t(),o&&o.apply(this,arguments)},i();break;case"location":var d=this.find("a").filter(function(){return 0==location.href.toLowerCase().indexOf(this.href.toLowerCase())});if(d.length){var h=d.addClass("selected").parents("ul, li").add(d.next()).show();e.prerendered&&h.filter("li").swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea)}}return r.applyClasses(e,s),e.control&&(l(this,e.control),$(e.control).show()),this}}),$.treeview={};var a=$.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}}(jQuery);