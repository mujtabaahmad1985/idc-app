!function($){function e(e,s,t,a){function i(e){var s=$("<li/>").attr("id",this.id||"").html("<span>"+this.text+"</span>").appendTo(e);if(this.classes&&s.children("span").addClass(this.classes),this.expanded&&s.addClass("open"),this.hasChildren||this.children&&this.children.length){var t=$("<ul/>").appendTo(s);this.hasChildren&&(s.addClass("hasChildren"),i.call({classes:"placeholder",text:"&nbsp;",children:[]},t)),this.children&&this.children.length&&$.each(this.children,i,[t])}}$.ajax($.extend(!0,{url:e.url,dataType:"json",data:{root:s},success:function(e){t.empty(),$.each(e,i,[t]),$(a).treeview({add:t})}},e.ajax))}var s=$.fn.treeview;$.fn.treeview=function(t){if(!t.url)return s.apply(this,arguments);t.root||(t.root="source");var a=this;a.children().size()||e(t,t.root,this,a);var i=t.toggle;return s.call(this,$.extend({},t,{collapsed:!0,toggle:function(){var s=$(this);if(s.hasClass("hasChildren")){var n=s.removeClass("hasChildren").find("ul");e(t,this.id,n,a)}i&&i.apply(this,arguments)}}))}}(jQuery);